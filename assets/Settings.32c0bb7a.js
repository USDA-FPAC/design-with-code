import{_ as H,d as x,a as L,r as c,u as k,c as z,w as B,k as I,o as u,e as h,l as s,F as E,f as A,t as p,s as y}from"./index.6c862e53.js";import{u as M}from"./useNavigation.49806a8f.js";import{v as g}from"./v4.83dbd2d9.js";const O=x(()=>L(()=>import("./BaseHeader.5e1e7ef6.js"),["assets/BaseHeader.5e1e7ef6.js","assets/disclaimer.ccb00f80.js","assets/index.6c862e53.js","assets/index.d9429370.css","assets/useNavigation.49806a8f.js"])),U={components:{baseHeader:O},setup(w){const n=c("/design-with-code/"),l=k(),{goto:o}=M(),_=z(()=>{let e=l.getters["settings/getHistory"];return e||null}),a=c(),t=e=>(e!=null&&e.sort((i,d)=>new Date(d.versionDate)-new Date(i.versionDate)),e),r=c(null),V=e=>{r.value=e},S=()=>{if(r.value!=null){let e=a.value.map(d=>(d.versionName==r.value&&(d.versionDate=new Date().toUTCString()),d)),i=JSON.parse(JSON.stringify(e));l.dispatch("settings/replaceHistory",i)}},C=()=>{if(r.value!=null){let e=a.value.filter(d=>d.versionName!=r.value),i=JSON.parse(JSON.stringify(e));l.dispatch("settings/replaceHistory",i)}},F=()=>{a.value[0]!=null&&l.dispatch("settings/downloadFile",a.value[0])},m=c(g()),f=c(g()),v=c(),N=e=>{document.getElementById(f.value).click()},D=e=>{v.value.requestSubmit()},b=e=>{let[i]=document.getElementById(f.value).files;l.dispatch("settings/uploadFile",{file:i}),e.preventDefault()};return B(_,e=>{a.value=t(e)}),I(()=>{l.dispatch("settings/callHistory"),v.value=document.getElementById(m.value),v.value.addEventListener("submit",b)}),{baseUrl:n,goto:o,historyData:a,selectVersion:V,loadVersion:S,deleteVersion:C,downloadVersion:F,selectLocally:N,triggerUploadForm:D,uploadFileFormId:m,uploadFileId:f,uploadFormSubmit:b}}},T={id:"main-content",tabindex:"-1"},J={class:"fds-section"},P={class:"fds-section__bd"},j={class:"fds-m-b--l fds-level@m fds-level--align-bottom fds-level--justify-between"},q=s("h1",{class:""},"Settings",-1),K={class:"fds-level fds-level--justify-between fds-level--grow-auto"},R=s("svg",{class:"fsa-icon fsa-icon--size-2","aria-hidden":"true",focusable:"false",role:"img",fill:"#205493",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[s("path",{d:"M0 0h24v24H0z",fill:"none"}),s("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"})],-1),G=y(" Save to Computer "),Q=[R,G],W=["id"],X=["id","name"],Y=s("svg",{class:"fsa-icon fsa-icon--size-2","aria-hidden":"true",focusable:"false",role:"img",fill:"#205493",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[s("path",{d:"M0 0h24v24H0V0z",fill:"none"}),s("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"})],-1),Z=y(" Upload from Computer "),$=[Y,Z],ss={class:"fds-bg--tertiary-100"},ts={class:"fds-p--l fds-p-t--xxs"},es=s("h2",null,"App Version History",-1),os={class:"fds-m-t--l fds-level"},ns={class:"fds-table fds-table--borderless"},ls=s("caption",{class:"sr-only"},"Caption that is hidden visually, but read by screenreader",-1),as=s("thead",null,[s("tr",null,[s("th",{class:""}),s("th",{scope:"col",class:""},"Version Name"),s("th",{scope:"col",class:""},"Timestamp"),s("th",{scope:"col",class:"fds-text-align--right"},"Size (KB)")])],-1),is={"aria-label":"Select"},ds=["onChange","data-behavior","id"],rs=["for"],cs=s("span",{class:"sr-only"},"Select this row",-1),fs=[cs],vs={class:""},us={class:""},hs={class:"fds-text-align--right"},ps={class:"fds-m-t--l fds-level"};function _s(w,n,l,o,_,a){return u(),h("main",T,[s("div",J,[s("div",P,[s("div",j,[q,s("div",K,[s("span",null,[s("button",{onClick:n[0]||(n[0]=(...t)=>o.downloadVersion&&o.downloadVersion(...t)),class:"fds-btn fds-btn--fill fds-btn--secondary",type:"button"},Q)]),s("span",null,[s("form",{action:"#",id:o.uploadFileFormId,method:"POST",enctype:"multipart/form-data"},[s("input",{onChange:n[1]||(n[1]=(...t)=>o.triggerUploadForm&&o.triggerUploadForm(...t)),accept:"string",class:"fds-input",hidden:"",id:o.uploadFileId,name:o.uploadFileId,type:"file"},null,40,X),s("button",{onClick:n[2]||(n[2]=(...t)=>o.selectLocally&&o.selectLocally(...t)),type:"button",class:"fds-btn fds-btn--fill fds-btn--secondary"},$)],8,W)])])]),s("div",ss,[s("div",ts,[es,s("div",os,[s("span",null,[s("button",{onClick:n[3]||(n[3]=t=>o.loadVersion()),class:"fds-btn fds-btn--primary fds-btn--small"},"Load to Canvas")]),s("span",null,[s("button",{onClick:n[4]||(n[4]=t=>o.deleteVersion()),class:"fds-btn fds-btn--tertiary fds-btn--small"},"Delete")])]),s("table",ns,[ls,as,s("tbody",null,[(u(!0),h(E,null,A(o.historyData,t=>(u(),h("tr",{key:t.versionDate},[s("td",is,[s("span",null,[s("input",{onChange:r=>o.selectVersion(t.versionName),class:"fds-radio fds-radio--solo","data-behavior":t.versionName,id:t.versionName,type:"radio",name:"versions",value:""},null,40,ds),s("label",{for:t.versionName},fs,8,rs)])]),s("td",vs,p(t.versionName),1),s("td",us,p(t.versionDate),1),s("td",hs,p(t.versionSize),1)]))),128))])]),s("div",ps,[s("span",null,[s("button",{onClick:n[5]||(n[5]=t=>o.loadVersion()),class:"fds-btn fds-btn--primary fds-btn--small"},"Load to Canvas")]),s("span",null,[s("button",{onClick:n[6]||(n[6]=t=>o.deleteVersion()),class:"fds-btn fds-btn--tertiary fds-btn--small"},"Delete")])])])])])])])}const ys=H(U,[["render",_s]]);export{ys as default};
