import{u as I,_ as G,d as O,a as x,c as D,r as N,w as P,b,o as C,e as p,F as B,f as k,g as R,h as U,t as W,i as _}from"./index.a5aa1859.js";import{v as E,u as F}from"./v4.f48cd14a.js";function H(){const d=I(),{hasClass:u,getAnimationString:c}=F();let i=null,m=null;const g="data-growl-origin",o=e=>{let t=document.getElementById(e);if(t.setAttribute("aria-hidden",!1),u(t,"fds-growl--centered")){t.addEventListener("keydown",v);let n='a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]',S=t.querySelectorAll(n);S=Array.prototype.slice.call(S),i=S[0],m=S[S.length-1],i.focus(),t.focus()}else t.addEventListener(c(t),h)},r=(e,t=null)=>{w(document.getElementById(e),t)},v=e=>{e.keyCode===9&&(e.shiftKey?document.activeElement===i&&(e.preventDefault(),m.focus()):document.activeElement===m&&(e.preventDefault(),i.focus())),e.keyCode===27&&w()},h=e=>{let t=e.target;t.removeEventListener(c(t),h)},w=(e,t=null)=>{e.className=e.className+" fds-growl--dismissing",e.addEventListener(c(e),n=>{s(n,t)}),u(e,"fds-growl--centered")&&e.focus()},s=(e,t=null)=>{let n=e.target;n.className=n.className.replace(" fds-growl--dismissing",""),n.setAttribute("aria-hidden","true"),l()&&f(),t&&t(),n.removeEventListener(c(n),s)},a=e=>{let t=document.getElementById(e);t.setAttribute(g,""),t.setAttribute("aria-expanded","true")},l=()=>document.querySelector("["+g+"]"),f=()=>{let e=l();try{e.removeAttribute(g),e.setAttribute("aria-expanded","false"),e.focus()}catch(t){console.log("Origin Catch",t)}},y=e=>{let t={id:String(E()),extraClasses:"",title:e.title,useIcon:e.useIcon||"false",iconPath:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z",iconSizeClass:"fds-icon--size-1",useMessage:e.useMessage||"true",message:e.msg};d.dispatch("alerts/addAlert",t)},z=e=>{let t={id:String(E()),extraClasses:"fds-growl--success",title:e.title,useIcon:e.useIcon||"false",iconPath:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z",iconSizeClass:"fds-icon--size-1",useMessage:e.useMessage||"true",message:e.msg};d.dispatch("alerts/addAlert",t)},M=e=>{let t={id:String(E()),extraClasses:"fds-growl--error",title:e.title,useIcon:e.useIcon||"false",iconPath:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z",iconSizeClass:"fds-icon--size-1",useMessage:e.useMessage||"true",message:e.msg};d.dispatch("alerts/addAlert",t)},L=e=>{let t={id:String(E()),extraClasses:"fds-growl--warning",title:e.title,useIcon:e.useIcon||"false",iconPath:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z",iconSizeClass:"fds-icon--size-1",useMessage:e.useMessage||"true",message:e.msg};d.dispatch("alerts/addAlert",t)},T=e=>{a(e.id);let t={id:String(E()),useCentered:"true",extraClasses:"fds-growl--error",title:e.title,useIcon:e.useIcon||"false",iconPath:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z",iconSizeClass:"fds-icon--size-1",useMessage:e.useMessage||"true",message:e.msg};d.dispatch("alerts/addAlert",t),A()},A=()=>{document.getElementById("fds-whiteout").setAttribute("aria-hidden","false")};return{showGrowl:o,hideGrowl:r,showWhiteout:A,hideWhiteout:()=>{document.getElementById("fds-whiteout").setAttribute("aria-hidden","true")},showDefaultGrowl:y,showSuccessGrowl:z,showErrorGrowl:M,showWarningGrowl:L,showErrorModalGrowl:T,setOrigin:a}}const V=O(()=>x(()=>import("./growl.4dadcf49.js"),["assets/growl.4dadcf49.js","assets/index.a5aa1859.js","assets/index.77b96531.css"])),q={components:{growl:V},setup(d){const u=I(),{showGrowl:c,hideGrowl:i,hideWhiteout:m}=H(),g=D(()=>{let s=u.getters["alerts/getAlerts"];return s||null}),o=N([]),r=s=>{s.isModal&&m(),u.dispatch("alerts/removeAlert",{id:s.id})},v=s=>{if(s.length>o.value.length){let a=s.filter(({id:l})=>!o.value.some(({id:f})=>f===l));h(s),a.forEach(l=>{setTimeout(()=>{c(l.id)},10)})}else o.value.length>s.length&&o.value.filter(({id:l})=>!s.some(({id:f})=>f===l)).forEach(l=>{setTimeout(()=>{i(l.id,()=>{h(s)})},10)})},h=s=>{o.value=s},w=s=>new DOMParser().parseFromString(s,"text/html");return P(g,s=>{let a=[...s].reverse();v(a)}),{alertsData:o,handleGrowlClose:r,getHTML:w}}},X={class:"fds-growl-container",id:"alertSystem"},Z={key:0};function $(d,u,c,i,m,g){const o=b("growl");return C(),p("div",X,[(C(!0),p(B,null,k(i.alertsData,r=>(C(),R(o,{key:r.id,ID:r.id,EXTRA_CLASSES:r.extraClasses,TITLE:r.title,USE_ICON:r.useIcon,ICON_PATH:r.iconPath,ICON_SIZE_CLASS:r.iconSizeClass,USE_MESSAGE:r.useMessage,USE_CENTERED:r.useCentered,MESSAGE:r.message,onEmitGrowlClose:i.handleGrowlClose},{growlContainer:U(()=>[r.growlBody?(C(),p("div",Z,W(r.growlBody),1)):_("",!0)]),_:2},1032,["ID","EXTRA_CLASSES","TITLE","USE_ICON","ICON_PATH","ICON_SIZE_CLASS","USE_MESSAGE","USE_CENTERED","MESSAGE","onEmitGrowlClose"]))),128))])}const Y=G(q,[["render",$]]);export{Y as default};
